<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Question</title>
    <link rel="stylesheet" type="text/css" media="screen" href="{{ url_for('static', filename='css/stylesheet.css') }}">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height">
	
</head>

<body>

<meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height">


<!-- 
No scroll bars
-->
<style>
    html, body {
        margin:0; padding:0; overflow: hidden;
		height: 100%;
		width: 100%;
		display: flex;
		
        align-items: center;
        justify-content: center;
    }
</style>



<svg width="100%" height="100%">


<script>
//--onload, onresize----
function sizeSVG()
{
	var mySVG=document.getElementsByTagName("svg")[0]

  	var svgW=window.innerWidth
	var svgH=window.innerHeight


    //mySVG.setAttribute("viewBox",bbx+" "+bby+" "+svgW+" "+svgH )
	
    mySVG.setAttribute("width",svgW)
    mySVG.setAttribute("height",svgH)
		
	
}

document.addEventListener("onload",sizeSVG(),false)
window.onresize=sizeSVG



</script>

 
<svg preserveAspectRatio="xMidYMid meet"></svg>

<svg>

<g>
  <rect x="0%" y="0%" width="100%" height="100%" fill="silver" rx="0" ry="0"/>
   <text id="kahoot" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="80px"; font-style="italic"; font-family="times new roman"; font-weight="bold"; fill="yellow">Kahoot!</text> 
</g>


<g>
 <rect id="questionr" width="100%" x="0%" fill="white" rx="0px" ry="0px"/>
  <text id="question" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="black">Q</text> 
</g>


<g>
<rect id="gamepinr" width="100%" x="0%" fill="white" rx="0px" ry="0px"/>
 <text id="gamepin" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="20px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="black">Q</text> 
</g>

<g>
 <rect id="answer-red" fill="red" rx="10px" ry="10px"/>
 <text id="answer-red-text" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white">50</text> 
</g>

<g>
 <rect id="answer-blue" fill="blue" rx="10px" ry="10px"/>
 <text id="answer-blue-text" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white">50</text> 
</g>


<g>
 <rect id="answer-orange" fill="orange" rx="10px" ry="10px"/>
 <text id="answer-orange-text" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white">50</text> 
</g>


<g>
 <rect id="answer-green" fill="green" rx="10px" ry="10px"/>
 <text id="answer-green-text" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white">50</text> 
</g>


<g>
 <circle id="timec" cx="10%" cy="35%" r="3%" fill="purple"/>
 <text id="time" x="10%" y="35%" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white"></text> 
 <text id="timet" x="10%" y="28%" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="black">Time</text> 
</g>


<g>
 <circle id="answersc" cx="50%" cy="35%" r="3%" fill="magenta"/>
 <text id="answers" x="50%" y="35%" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white">0</text> 
 <text id="answerst" x="50%" y="28%" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="black">Answers</text> 
</g>



<g>
 <circle id="questionnumc" cx="90%" cy="35%" r="3%" fill="blueviolet"/>
 <text id="questionnum" x="90%" y="35%" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white"></text>
 <text id="questionnumt" x="90%" y="28%" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="black">Question</text>  
</g>


<!-- 
Count-down screen before question starts
-->

<g>
 <rect id="prequestr" width="100%" x="0%" fill="red" rx="0px" ry="0px"/>
 <text id="prequest" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white"></text> 
</g>

<g>
 <circle id="timepc" cx="50%" cy="45%" r="3%" fill="purple"/>
 <text id="timep" x="50%" y="45%" dominant-baseline="middle" alignment-baseline="central" text-anchor="middle"; font-size="40px"; font-style="normal"; font-family="times new roman"; font-weight="bold"; fill="white"></text> 
</g>



</svg>





<div class="buttons" style="position:absolute;top:-45%;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto">

<button type=“submit” id="question_timeout"></button>	
	
</div>


<div class="buttons" style="position:absolute;top:-45%;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto">

<button type=“submit” id="question_timeoutp"></button>	
	
</div>



 
<script type="text/javascript">
	
   var query = window.location.search.substring(1).split("&");


      var game_pair = query[0].split('='); // The even part of each pair contains the type of variable, and the odd part the value
      var pin_pair = query[1].split('=');	  
      var quen_pair = query[2].split('=');	// Question number  
	  var quet_pair = query[3].split('=');	// Question time  

   // pair 0 : status

   console.log("123");  
      
	
	  
   var game = decodeURI(game_pair[1].replace('+',' '));
   var pin = decodeURI(pin_pair[1].replace('+',' '));

   var question_num = decodeURI(quen_pair[1]);
   var question_time = decodeURI(quet_pair[1]);
   
   
   document.getElementById("time").textContent = question_time;
   document.getElementById("questionnum").textContent = question_num;
   
   
    var timeinterval;
   
   // Time countdown for question
   function update_time () 
   {
     question_time = question_time -1;
     document.getElementById("time").textContent = question_time;
	 console.log("bla");	
     console.log(question_time);	
		 
	 if (question_time == 0)
	 {
	   clearInterval(timeinterval);
	   document.getElementById("question_timeout").click();
	 }
	 	 
   } // update_time
 


   // Time out before question starts

   question_timep = 5;
   document.getElementById("timep").textContent = question_timep;
   
   function update_timep () 
   {
     question_timep = question_timep -1;
     document.getElementById("timep").textContent = question_timep;
	 console.log("blabla");	
     console.log(question_timep);	
		 
	 if (question_timep == 0)
	 {
	   clearInterval(timeintervalp);
	   document.getElementById("question_timeoutp").click();
	 }
	 	 
   } // update_time
 
   var timeintervalp = setInterval(update_timep, 1000); // 1000ms = 1sec

    
  
</script>
	  	  





<script>

//question-red.style.background-color="red";   ;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto  ;top:75%

// TEMP - read from file

//document.getElementById("timec").style.r = "10%";


var kah = document.getElementById("kahoot");
kah.setAttribute('x',window.innerWidth/2);
kah.setAttribute('y',window.innerHeight*(6/100));


var quer = document.getElementById("questionr");
quer.setAttribute('x',0);
quer.setAttribute('y',window.innerHeight*(52/100));
quer.setAttribute('height',window.innerHeight*(7/100));

var que = document.getElementById("question");
que.setAttribute('x',window.innerWidth/2);
que.setAttribute('y',window.innerHeight*((52+3.5)/100));



// Displayed before the question starts
var pquer = document.getElementById("prequestr");
pquer.setAttribute('x',0);
pquer.setAttribute('y',window.innerHeight*(25/100));
pquer.setAttribute('height',window.innerHeight*(70/100));

var pque = document.getElementById("prequest");
pque.setAttribute('x',window.innerWidth/2);
pque.setAttribute('y',window.innerHeight*((35)/100));

document.getElementById("prequest").textContent = "Question " + question_num;




var quer = document.getElementById("gamepinr");
quer.setAttribute('x',0);
quer.setAttribute('y',window.innerHeight*(95/100));
quer.setAttribute('height',window.innerHeight*(5/100));

var que = document.getElementById("gamepin");
que.setAttribute('x',window.innerWidth/2);
que.setAttribute('y',window.innerHeight*((95+2.5)/100));

var text1 = game + '\xa0\xa0\xa0\xa0\xa0\xa0\xa0' + " PIN: " + pin; // xa0 is used for spaces (multiple spaces don't work!)
document.getElementById("gamepin").textContent = text1; 
	  
var button_width = window.innerWidth/2 - 14;
var button_height = window.innerHeight/6;
var button_red_y = window.innerHeight*(60/100);
var button_red_x = 10;
var button_blue_x = window.innerWidth - button_width - button_red_x;
var button_orange_y = button_red_y + button_height + 5; 


console.log(button_red_y);

document.getElementById("answer-red").style.width = button_width + "px";
document.getElementById("answer-red").style.height = button_height + "px";

document.getElementById("answer-red").style.x = button_red_x + "px";
document.getElementById("answer-red").style.y = button_red_y + "px";



var art = document.getElementById("answer-red-text");
art.setAttribute('x',button_red_x+button_width/2);
art.setAttribute('y',button_red_y+button_height/2);


document.getElementById("answer-blue").style.width = button_width + "px";
document.getElementById("answer-blue").style.height = button_height + "px";

document.getElementById("answer-blue").style.x = button_blue_x + "px";
document.getElementById("answer-blue").style.y = button_red_y + "px";


var abt = document.getElementById("answer-blue-text");
abt.setAttribute('x',button_blue_x+button_width/2);
abt.setAttribute('y',button_red_y+button_height/2);



document.getElementById("answer-orange").style.width = button_width + "px";
document.getElementById("answer-orange").style.height = button_height + "px";

document.getElementById("answer-orange").style.x = button_red_x + "px";
document.getElementById("answer-orange").style.y = button_orange_y + "px";



var aot = document.getElementById("answer-orange-text");
aot.setAttribute('x',button_red_x+button_width/2);
aot.setAttribute('y',button_orange_y+button_height/2);



document.getElementById("answer-green").style.width = button_width + "px";
document.getElementById("answer-green").style.height = button_height + "px";

document.getElementById("answer-green").style.x = button_blue_x + "px";
document.getElementById("answer-green").style.y = button_orange_y + "px";


var agt = document.getElementById("answer-green-text");
agt.setAttribute('x',button_blue_x+button_width/2);
agt.setAttribute('y',button_orange_y+button_height/2);



function update_question (question,answer1,answer2,answer3,answer4)
{

console.log(555);
 
  //document.getElementById("prequestr").hidden = true;
  //document.getElementById("prequest").hidden = true;
  //document.getElementById("timepc").hidden = true;
  //document.getElementById("timep").hidden = true;

  document.getElementById("prequestr").style.display = "none";
  document.getElementById("prequest").style.display = "none";
  document.getElementById("timepc").style.display = "none";
  document.getElementById("timep").style.display = "none";





  document.getElementById("question").textContent = question;
  document.getElementById("answer-red-text").textContent = answer1;
  document.getElementById("answer-blue-text").textContent = answer2;
  document.getElementById("answer-orange-text").textContent = answer3;
  document.getElementById("answer-green-text").textContent = answer4;


 timeinterval = setInterval(update_time, 1000);


}




</script>


     

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
    <script
              src="http://code.jquery.com/jquery-3.2.1.min.js"
              integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
              crossorigin="anonymous"></script>
			  
	
			  
			  
    <script src="{{ url_for('static', filename='script.js') }}"></script>
	
	

	
	
	
	
	
</body>
</html>